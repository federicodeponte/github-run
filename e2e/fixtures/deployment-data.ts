// ABOUTME: Mock deployment history data fixtures for E2E testing
// ABOUTME: Provides various test scenarios (full, empty, success-only, error-only, mixed)

import type { Database } from '@/lib/types/database'

type Deployment = Database['public']['Tables']['deployment_history']['Row']

/**
 * Full deployment history with mixed success/error deployments
 */
export const mockDeploymentsFull: Deployment[] = [
  {
    id: '1',
    created_at: '2025-01-12T14:30:00Z',
    github_url: 'https://github.com/user/python-functions',
    file_path: 'src/hello.py',
    function_name: 'hello',
    endpoint: 'https://modal.com/deployments/hello-abc123',
    deployment_id: 'dep_abc123',
    status: 'success',
    error_message: null,
    test_success: true,
    test_response: { message: 'Hello, World!', status: 200 },
    test_error: null,
  },
  {
    id: '2',
    created_at: '2025-01-12T10:15:00Z',
    github_url: 'https://github.com/user/data-processor',
    file_path: 'functions/process_data.py',
    function_name: 'process_data',
    endpoint: 'https://modal.com/deployments/process-data-xyz789',
    deployment_id: 'dep_xyz789',
    status: 'error',
    error_message: 'Module not found: openai',
    test_success: null,
    test_response: null,
    test_error: null,
  },
  {
    id: '3',
    created_at: '2025-01-11T16:45:00Z',
    github_url: 'https://github.com/user/notifications',
    file_path: 'send_email.py',
    function_name: 'send_email',
    endpoint: 'https://modal.com/deployments/send-email-def456',
    deployment_id: 'dep_def456',
    status: 'success',
    error_message: null,
    test_success: true,
    test_response: { sent: true, recipients: ['test@example.com'] },
    test_error: null,
  },
  {
    id: '4',
    created_at: '2025-01-11T09:20:00Z',
    github_url: 'https://github.com/user/ml-toolkit',
    file_path: 'models/analyze_sentiment.py',
    function_name: 'analyze_sentiment',
    endpoint: 'https://modal.com/deployments/analyze-sentiment-ghi789',
    deployment_id: 'dep_ghi789',
    status: 'success',
    error_message: null,
    test_success: false,
    test_response: null,
    test_error: 'Connection timeout after 30 seconds',
  },
  {
    id: '5',
    created_at: '2025-01-10T14:10:00Z',
    github_url: 'https://github.com/user/api-helpers',
    file_path: 'fetch_data.py',
    function_name: 'fetch_data',
    endpoint: 'https://modal.com/deployments/fetch-data-jkl012',
    deployment_id: 'dep_jkl012',
    status: 'success',
    error_message: null,
    test_success: true,
    test_response: { data: [1, 2, 3], count: 3 },
    test_error: null,
  },
  {
    id: '6',
    created_at: '2025-01-10T08:30:00Z',
    github_url: 'https://github.com/user/data-processor',
    file_path: 'functions/transform.py',
    function_name: 'transform',
    endpoint: 'https://modal.com/deployments/transform-mno345',
    deployment_id: 'dep_mno345',
    status: 'error',
    error_message: 'Invalid GitHub URL format',
    test_success: null,
    test_response: null,
    test_error: null,
  },
  {
    id: '7',
    created_at: '2025-01-09T12:00:00Z',
    github_url: 'https://github.com/user/python-functions',
    file_path: 'src/greet.py',
    function_name: 'greet',
    endpoint: 'https://modal.com/deployments/greet-pqr678',
    deployment_id: 'dep_pqr678',
    status: 'success',
    error_message: null,
    test_success: true,
    test_response: { greeting: 'Hello, Alice!' },
    test_error: null,
  },
  {
    id: '8',
    created_at: '2025-01-08T15:45:00Z',
    github_url: 'https://github.com/user/api-helpers',
    file_path: 'utils/validate.py',
    function_name: 'validate',
    endpoint: 'https://modal.com/deployments/validate-stu901',
    deployment_id: 'dep_stu901',
    status: 'error',
    error_message: 'Function not found in file',
    test_success: null,
    test_response: null,
    test_error: null,
  },
]

/**
 * Empty deployment history - no deployments exist
 */
export const mockDeploymentsEmpty: Deployment[] = []

/**
 * All successful deployments - 100% success rate
 */
export const mockDeploymentsAllSuccess: Deployment[] = [
  {
    id: '1',
    created_at: '2025-01-12T14:30:00Z',
    github_url: 'https://github.com/user/python-functions',
    file_path: 'src/hello.py',
    function_name: 'hello',
    endpoint: 'https://modal.com/deployments/hello-abc123',
    deployment_id: 'dep_abc123',
    status: 'success',
    error_message: null,
    test_success: true,
    test_response: { message: 'Hello, World!', status: 200 },
    test_error: null,
  },
  {
    id: '2',
    created_at: '2025-01-11T16:45:00Z',
    github_url: 'https://github.com/user/notifications',
    file_path: 'send_email.py',
    function_name: 'send_email',
    endpoint: 'https://modal.com/deployments/send-email-def456',
    deployment_id: 'dep_def456',
    status: 'success',
    error_message: null,
    test_success: true,
    test_response: { sent: true },
    test_error: null,
  },
  {
    id: '3',
    created_at: '2025-01-10T14:10:00Z',
    github_url: 'https://github.com/user/api-helpers',
    file_path: 'fetch_data.py',
    function_name: 'fetch_data',
    endpoint: 'https://modal.com/deployments/fetch-data-jkl012',
    deployment_id: 'dep_jkl012',
    status: 'success',
    error_message: null,
    test_success: true,
    test_response: { data: [1, 2, 3] },
    test_error: null,
  },
]

/**
 * All failed deployments - 0% success rate
 */
export const mockDeploymentsAllErrors: Deployment[] = [
  {
    id: '1',
    created_at: '2025-01-12T10:15:00Z',
    github_url: 'https://github.com/user/data-processor',
    file_path: 'functions/process_data.py',
    function_name: 'process_data',
    endpoint: 'https://modal.com/deployments/process-data-xyz789',
    deployment_id: 'dep_xyz789',
    status: 'error',
    error_message: 'Module not found: openai',
    test_success: null,
    test_response: null,
    test_error: null,
  },
  {
    id: '2',
    created_at: '2025-01-10T08:30:00Z',
    github_url: 'https://github.com/user/data-processor',
    file_path: 'functions/transform.py',
    function_name: 'transform',
    endpoint: 'https://modal.com/deployments/transform-mno345',
    deployment_id: 'dep_mno345',
    status: 'error',
    error_message: 'Invalid GitHub URL format',
    test_success: null,
    test_response: null,
    test_error: null,
  },
  {
    id: '3',
    created_at: '2025-01-08T15:45:00Z',
    github_url: 'https://github.com/user/api-helpers',
    file_path: 'utils/validate.py',
    function_name: 'validate',
    endpoint: 'https://modal.com/deployments/validate-stu901',
    deployment_id: 'dep_stu901',
    status: 'error',
    error_message: 'Function not found in file',
    test_success: null,
    test_response: null,
    test_error: null,
  },
]

/**
 * Search test data - specific function and repo names for testing search
 */
export const mockDeploymentsForSearch: Deployment[] = [
  {
    id: '1',
    created_at: '2025-01-12T14:30:00Z',
    github_url: 'https://github.com/user/hello-world-app',
    file_path: 'main.py',
    function_name: 'hello_world',
    endpoint: 'https://modal.com/deployments/hello-world-abc',
    deployment_id: 'dep_hello_abc',
    status: 'success',
    error_message: null,
    test_success: true,
    test_response: { message: 'Hello' },
    test_error: null,
  },
  {
    id: '2',
    created_at: '2025-01-11T10:00:00Z',
    github_url: 'https://github.com/user/goodbye-app',
    file_path: 'farewell.py',
    function_name: 'goodbye',
    endpoint: 'https://modal.com/deployments/goodbye-def',
    deployment_id: 'dep_goodbye_def',
    status: 'success',
    error_message: null,
    test_success: true,
    test_response: { message: 'Goodbye' },
    test_error: null,
  },
  {
    id: '3',
    created_at: '2025-01-10T08:00:00Z',
    github_url: 'https://github.com/user/another-repo',
    file_path: 'utils.py',
    function_name: 'utility_function',
    endpoint: 'https://modal.com/deployments/utility-ghi',
    deployment_id: 'dep_utility_ghi',
    status: 'success',
    error_message: null,
    test_success: true,
    test_response: null,
    test_error: null,
  },
]
